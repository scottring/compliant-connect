# Cursor Project Intelligence

## Critical Implementation Paths

### 1. Authentication Flow
- Always implement Supabase auth before other backend features
- Role-based access control is essential for all routes
- Company relationships determine data access

### 2. Data Model Dependencies
- Company relationships are foundational
- Product sheets depend on company and product data
- PIRs link everything together

### 3. User Workflows
- Question bank → PIR creation → Supplier response → Review process
- Each step must maintain proper state
- Email notifications at key points

## User Preferences

### 1. UI/UX Patterns
- Prefer table views over grid views for data
- Need bulk import capabilities for efficiency
- Toast notifications should be minimal
- Status changes must be clear and accurate

### 2. Data Entry
- Support for copying/pasting from Excel
- Auto-save during form completion
- Clear progress indicators
- Efficient filtering and search

## Project-Specific Patterns

### 1. Terminology
- "Product Information Request (PIR)" not "Sheet Request"
- "Product Sheet" is the master document
- "In Progress" vs "Partially Submitted" for status
- Clear distinction between suppliers and customers

### 2. Data Organization
- Questions organized by sections/subsections
- Tags for compliance categories
- Support for nested tables
- Smart answer reuse across tags

## Known Challenges

### 1. Technical Complexity
- Complex nested table implementations
- Multi-tenant data isolation
- Real-time updates and notifications
- Answer history tracking

### 2. UX Considerations
- Balance between auto-save and notifications
- Clear status progression
- Efficient review process
- Intuitive navigation between views

## Tool Usage Patterns

### 1. Form Handling
- React Hook Form for form state
- Zod for validation
- Progressive saving
- Proper error handling

### 2. Data Management
- Supabase for real-time features
- Row Level Security for access control
- Optimistic updates for better UX
- Smart caching where appropriate

## Evolution Notes

### 1. UI Improvements
- Moved from grid to table views
- Enhanced filtering capabilities
- Improved status indicators
- Added bulk import features

### 2. Workflow Refinements
- Streamlined review process
- Enhanced communication features
- Improved answer reuse
- Better progress tracking 